<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to BIRDS • BIRDS</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to BIRDS">
<meta property="og:description" content="BIRDS">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-147720899-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-147720899-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BIRDS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/BIRDS.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documents
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/technical_details.html">BIRDS technical details</a>
    </li>
    <li>
      <a href="../articles/working_with_xts_timeseries.html">Working with xts time series</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/greensway/BIRDS">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="BIRDS_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to BIRDS</h1>
                        <h4 class="author">Alejandro Ruete and Debora Arlt</h4>
            
            <h4 class="date">2021-06-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Greensway/BIRDS/blob/master/vignettes/BIRDS.Rmd"><code>vignettes/BIRDS.Rmd</code></a></small>
      <div class="hidden name"><code>BIRDS.Rmd</code></div>

    </div>

    
    
<div id="installing-birds" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-birds" class="anchor"></a>Installing ‘BIRDS’</h2>
<p>The package ‘BIRDS’ is currently available on GitHub and you can freely download the source code here <a href="https://github.com/Greensway/BIRDS">BIRDS on GitHub</a></p>
<p>The easiest option is to install the package directly from GitHub using the package ‘remotes’. Install ’remotes as usual <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages('remotes')</a></code> if you do not already have installed it.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">'Greensway/BIRDS'</span><span class="op">)</span></code></pre></div>
<p>If you receive an error we would love to receive your bug report <a href="https://github.com/Greensway/BIRDS/issues">here</a></p>
</div>
<div id="basic-example-and-data-requirements" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-example-and-data-requirements" class="anchor"></a>Basic example and data requirements</h2>
<p>Starting with a primary biodiversity data set (species observations) <code>BIRDS</code> employs three basic steps: organizing the data into a sampling event-based format, summarizing the data producing summary variables that inform about sampling effort and data completeness, and reviewing the summarized variables.</p>
<p>This package works with <code>data.frame</code> and <code>data.table</code> tables containing raw species observations as rows (i.e. primary biodiversity data, PBD), with minimal information required for each observation in the following columns:</p>
<ol style="list-style-type: decimal">
<li>species identification</li>
<li>x and y spatial coordinates in two columns (epsg:4326 assumed if not otherwise specified)</li>
<li>date of the observation (either in one formatted column or three columns y-m-d)</li>
</ol>
<p>The function <code><a href="../reference/organizeBirds.html">organiseBirds()</a></code> converts ‘data.frame’ into a <code>SpatialPointsDataFrame</code> adding to each observation a unique identifier for the assumed visit (sampling event) it belongs to, given some input parameters. The function <code><a href="../reference/organizeBirds.html">organizeBirds()</a></code> will interpret the DarwinCore standard for column names as default, but other names can be specified too. For more details on how a visit is defined and options for each function please refer to the <a href="https://greensway.github.io/BIRDS/articles/technical_details.html">technical vignette</a> and to each function’s help page.</p>
<p>Then, the function <code><a href="../reference/summarizeBirds.html">summariseBirds()</a></code> will overlay the data with a given spatial grid and create a set of objects that summarize the data spatially, temporally, and spatio-temporally, and also provide other intermediate results useful for later analyses. Finally, the function <code><a href="../reference/exportBirds.html">exportBirds()</a></code> helps the user to obtain the data ready to be plotted with widely known functions.</p>
<p>We use as an example a data set consisting of 10k species observations of bumblebees (i.e. <em>Bombus</em> spp.) in Götaland (the southern part of Sweden) during 2000-2018. The data set <code>bombusObs</code> is part of this package and its metadata can be found in the data set help page <code><a href="../reference/bombusObs.html">?bombusObs</a></code>.</p>
<p>You can easily create a grid over a sample area (i.e. <code>gotaland</code>), organize and summarize the data, and export the variables you want to plot:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/greensway/BIRDS">BIRDS</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span>
<span class="co">#&gt; Warning: package 'sf' was built under R version 4.0.5</span>
<span class="co">#&gt; Linking to GEOS 3.9.0, GDAL 3.2.1, PROJ 7.2.1</span>
<span class="co"># Create a grid for your sample area that will be used to summarise the data:</span>
<span class="va">grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/makeGrid.html">makeGrid</a></span><span class="op">(</span><span class="va">gotaland</span>, gridSize <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; Grid cells are too many (&gt;=500), this may result in very long computation times</span>
<span class="co"># The grid can be easily created in different ways. </span>

<span class="co"># Import the species observation data:</span>
<span class="va">PBD</span> <span class="op">&lt;-</span> <span class="va">bombusObs</span>
<span class="co"># alternatively, you could load a previously downloaded .CSV file </span>

<span class="co"># Convert the data from an observation-based to a visit-based format, adding a </span>
<span class="co"># unique identifier for each visit:</span>
<span class="va">OB</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/organizeBirds.html">organizeBirds</a></span><span class="op">(</span><span class="va">PBD</span>, sppCol <span class="op">=</span> <span class="st">"scientificName"</span>, simplifySppName <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># Summarise the data:</span>
<span class="va">SB</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summarizeBirds.html">summariseBirds</a></span><span class="op">(</span><span class="va">OB</span>, grid<span class="op">=</span><span class="va">grid</span><span class="op">)</span>
<span class="co">#&gt; 474 observations did not overlap with the grid and will be discarded.</span>
<span class="co">#&gt; 0.045 % of the visits spill over neighbouring grid cells.</span>

<span class="co"># Look at some summarised variables:</span>
<span class="co"># Number of observations</span>
<span class="va">EBnObs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/exportBirds.html">exportBirds</a></span><span class="op">(</span><span class="va">SB</span>, dimension <span class="op">=</span> <span class="st">"temporal"</span>, timeRes <span class="op">=</span> <span class="st">"yearly"</span>, 
                      variable <span class="op">=</span> <span class="st">"nObs"</span>, method <span class="op">=</span> <span class="st">"sum"</span><span class="op">)</span>
<span class="co"># Number of visits</span>
<span class="va">EBnVis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/exportBirds.html">exportBirds</a></span><span class="op">(</span><span class="va">SB</span>, dimension <span class="op">=</span> <span class="st">"temporal"</span>, timeRes <span class="op">=</span> <span class="st">"yearly"</span>, 
                      variable <span class="op">=</span> <span class="st">"nVis"</span>, method <span class="op">=</span> <span class="st">"sum"</span><span class="op">)</span>
<span class="co"># The ratio of number of observations over number of visits</span>
<span class="va">relObs</span> <span class="op">&lt;-</span> <span class="va">EBnObs</span><span class="op">/</span><span class="va">EBnVis</span>

<span class="co"># Average species list length (SLL) per year (a double-average, i.e. the mean </span>
<span class="co"># over cell values for the median SLL from all visits per year and cell) </span>
<span class="va">EBavgSll</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colMeans</a></span><span class="op">(</span><span class="va">SB</span><span class="op">$</span><span class="va">spatioTemporal</span><span class="op">[</span>,,<span class="st">"Yearly"</span>,<span class="st">"avgSll"</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Then, with functions you already know, plot this into a time series.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">1</span>,<span class="fl">6</span><span class="op">)</span>, las<span class="op">=</span><span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/time.html">time</a></span><span class="op">(</span><span class="va">EBnObs</span><span class="op">)</span>, <span class="va">EBnObs</span>, type <span class="op">=</span> <span class="st">"l"</span>, lwd <span class="op">=</span> <span class="fl">3</span>, xlab <span class="op">=</span> <span class="st">"Year"</span>, ylab <span class="op">=</span> <span class="st">"Number"</span>, 
     ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">EBnObs</span><span class="op">)</span><span class="op">)</span>, xaxp<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2000</span>, <span class="fl">2018</span>, <span class="fl">18</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/lines.html">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/time.html">time</a></span><span class="op">(</span><span class="va">EBnObs</span><span class="op">)</span>, <span class="va">EBnVis</span>, lwd<span class="op">=</span><span class="fl">3</span>, lty<span class="op">=</span><span class="fl">2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/lines.html">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/time.html">time</a></span><span class="op">(</span><span class="va">EBnObs</span><span class="op">)</span>, <span class="va">relObs</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">EBnObs</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">relObs</span><span class="op">)</span>, lwd<span class="op">=</span><span class="fl">3</span>, lty<span class="op">=</span><span class="fl">1</span>, col<span class="op">=</span><span class="st">"#78D2EB"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/lines.html">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/time.html">time</a></span><span class="op">(</span><span class="va">EBnObs</span><span class="op">)</span>, <span class="va">EBavgSll</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">EBnObs</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">EBavgSll</span><span class="op">)</span>, lwd<span class="op">=</span><span class="fl">3</span>, lty<span class="op">=</span><span class="fl">1</span>, col<span class="op">=</span><span class="st">"#FFB3B5"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/axis.html">axis</a></span><span class="op">(</span><span class="fl">4</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">EBnObs</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, 
     labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">relObs</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span>, 
     lwd <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"#78D2EB"</span>, col.ticks <span class="op">=</span> <span class="st">"#78D2EB"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/axis.html">axis</a></span><span class="op">(</span><span class="fl">4</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">EBnObs</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> , 
     labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">EBavgSll</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span>, 
     lwd <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"#FFB3B5"</span>, col.ticks <span class="op">=</span> <span class="st">"#FFB3B5"</span>, line <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, legend<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"n.observations"</span>,<span class="st">"n.visits"</span><span class="op">)</span>, 
       lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">3</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"bottomright"</span>, legend<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"n.observations / n.visits"</span>, <span class="st">"avg. SLL per cell"</span><span class="op">)</span>,
       lty <span class="op">=</span> <span class="fl">1</span>, lwd <span class="op">=</span> <span class="fl">3</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#78D2EB"</span>, <span class="st">"#FFB3B5"</span><span class="op">)</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="BIRDS_files/figure-html/figure%201-1.png" alt="Time series for *Bombus* spp. dataset." width="672"><p class="caption">
Time series for <em>Bombus</em> spp. dataset.
</p>
</div>
<p>Although we downloaded the data in April 2019, we know that the latest reports for 2018 were not yet uploaded and we see that in the figure.<br>
We can see that over the years there are on average more observations, more visits and also more species reported for each visit. While it looks like as sampling effort has increased we can also see that there are on average fewer observations per visit. This suggests that the sampling effort per visit has actually decreased. There seem to be many more visits reported in later years driving also an increase in number of observations, but many visits hold only few observations. There seem to be also few visits with long species lists driving the increase of average SLL.</p>
<p>Then, we can summarize spatial data in some maps, to review, for example, Where do we have visits at all?, or How often are visits performed in July vs December?</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wNonEmpty</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/whichNonEmpty.html">whichNonEmpty</a></span><span class="op">(</span> <span class="va">SB</span><span class="op">$</span><span class="va">overlaid</span> <span class="op">)</span>
<span class="va">EB</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/exportBirds.html">exportBirds</a></span><span class="op">(</span><span class="va">SB</span>, <span class="st">"Spatial"</span>, <span class="st">"Month"</span>, <span class="st">"nYears"</span>, <span class="st">"sum"</span><span class="op">)</span>
<span class="co"># because the dimension is "spatial", the result is a 'SpatialPolygonDataFrame'</span>

<span class="va">palBW</span> <span class="op">&lt;-</span> <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/colorNumeric.html">colorNumeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"navyblue"</span><span class="op">)</span>, 
                               <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_drop_geometry</a></span><span class="op">(</span><span class="va">EB</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>, 
                               na.color <span class="op">=</span> <span class="st">"transparent"</span><span class="op">)</span>
<span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span>, mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">SB</span><span class="op">$</span><span class="va">spatial</span><span class="op">$</span><span class="va">geometry</span><span class="op">[</span><span class="va">wNonEmpty</span><span class="op">]</span>, col<span class="op">=</span><span class="st">"grey"</span>, border <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">gotaland</span><span class="op">$</span><span class="va">geometry</span>, col<span class="op">=</span><span class="cn">NA</span>, border <span class="op">=</span> <span class="st">"grey"</span>, lwd<span class="op">=</span><span class="fl">1</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html">mtext</a></span><span class="op">(</span><span class="st">"Visited cells"</span>, <span class="fl">3</span>, line<span class="op">=</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>

<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">EB</span><span class="op">$</span><span class="va">geometry</span>, col<span class="op">=</span><span class="fu">palBW</span><span class="op">(</span><span class="va">EB</span><span class="op">$</span><span class="va">Jul</span><span class="op">)</span>, border <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">gotaland</span><span class="op">$</span><span class="va">geometry</span>, col<span class="op">=</span><span class="cn">NA</span>, border <span class="op">=</span> <span class="st">"grey"</span>, lwd<span class="op">=</span><span class="fl">1</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html">mtext</a></span><span class="op">(</span><span class="st">"Number of years for which \nJuly was sampled"</span>, <span class="fl">3</span>, line<span class="op">=</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span>

<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">EB</span><span class="op">$</span><span class="va">geometry</span>, col<span class="op">=</span><span class="fu">palBW</span><span class="op">(</span><span class="va">EB</span><span class="op">$</span><span class="va">Dec</span><span class="op">)</span>, border <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">gotaland</span><span class="op">$</span><span class="va">geometry</span>, col<span class="op">=</span><span class="cn">NA</span>, border <span class="op">=</span> <span class="st">"grey"</span>, lwd<span class="op">=</span><span class="fl">1</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html">mtext</a></span><span class="op">(</span><span class="st">"Number of years for which \nDecember was sampled"</span>, <span class="fl">3</span>, line<span class="op">=</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"bottomleft"</span>, 
       legend<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_drop_geometry</a></span><span class="op">(</span><span class="va">EB</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,
       col <span class="op">=</span> <span class="fu">palBW</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_drop_geometry</a></span><span class="op">(</span><span class="va">EB</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,
       title <span class="op">=</span> <span class="st">"Number of years"</span>, pch <span class="op">=</span> <span class="fl">15</span>, bty<span class="op">=</span><span class="st">"n"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span></code></pre></div>
<p><img src="BIRDS_files/figure-html/figure%202-1.png" width="672"></p>
<p>We could also map the ignorance scores based on the either the number of observations or visits using the function <code><a href="../reference/exposeIgnorance.html">exposeIgnorance()</a></code>. Ignorance scores are a proxy for the lack of sampling effort, computed by making the number of observations relative to a reference number of observations that is considered to be enough to reduce the ignorance score by half (henceforth the Half-ignorance approach). The algorithm behind the Ignorance Score is designed for comparison of bias and gaps in primary biodiversity data across taxonomy, time and space Read more here: Ruete (2015) Biodiv Data J 3:e5361 .</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>, mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="va">palBW</span> <span class="op">&lt;-</span> <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/colorNumeric.html">colorNumeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"navyblue"</span><span class="op">)</span>, 
                               <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">SB</span><span class="op">$</span><span class="va">spatial</span><span class="op">$</span><span class="va">nVis</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>, 
                               na.color <span class="op">=</span> <span class="st">"transparent"</span><span class="op">)</span>
<span class="va">seqNVis</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">SB</span><span class="op">$</span><span class="va">spatial</span><span class="op">$</span><span class="va">nVis</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">SB</span><span class="op">$</span><span class="va">spatial</span><span class="op">$</span><span class="va">geometry</span>, col<span class="op">=</span><span class="fu">palBW</span><span class="op">(</span><span class="va">SB</span><span class="op">$</span><span class="va">spatial</span><span class="op">$</span><span class="va">nVis</span><span class="op">)</span>, border <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">gotaland</span><span class="op">$</span><span class="va">geometry</span>, col<span class="op">=</span><span class="cn">NA</span>, border <span class="op">=</span> <span class="st">"grey"</span>, lwd<span class="op">=</span><span class="fl">1</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"bottomleft"</span>, legend<span class="op">=</span><span class="va">seqNVis</span>, col <span class="op">=</span> <span class="fu">palBW</span><span class="op">(</span><span class="va">seqNVis</span><span class="op">)</span>,
      title <span class="op">=</span> <span class="st">"Number of \nobservations"</span>, pch <span class="op">=</span> <span class="fl">15</span>, bty<span class="op">=</span><span class="st">"n"</span><span class="op">)</span>

<span class="va">ign</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/exposeIgnorance.html">exposeIgnorance</a></span><span class="op">(</span><span class="va">SB</span><span class="op">$</span><span class="va">spatial</span><span class="op">$</span><span class="va">nVis</span>, h <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="va">palBWR</span> <span class="op">&lt;-</span> <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/colorNumeric.html">colorNumeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"navyblue"</span>, <span class="st">"white"</span>,<span class="st">"red"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, 
                                na.color <span class="op">=</span> <span class="st">"transparent"</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">gotaland</span><span class="op">$</span><span class="va">geometry</span>, col<span class="op">=</span><span class="st">"grey90"</span>, border <span class="op">=</span> <span class="st">"grey90"</span>, lwd<span class="op">=</span><span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">SB</span><span class="op">$</span><span class="va">spatial</span><span class="op">$</span><span class="va">geometry</span>, col<span class="op">=</span><span class="fu">palBWR</span><span class="op">(</span><span class="va">ign</span><span class="op">)</span>, border <span class="op">=</span> <span class="cn">NA</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">gotaland</span><span class="op">$</span><span class="va">geometry</span>, col<span class="op">=</span><span class="cn">NA</span>, border <span class="op">=</span> <span class="st">"grey"</span>, lwd<span class="op">=</span><span class="fl">1</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"bottomleft"</span>, legend<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, <span class="st">"NA"</span><span class="op">)</span>,
      col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu">palBWR</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>, <span class="st">"grey90"</span><span class="op">)</span>,
      title <span class="op">=</span> <span class="st">"Ignorance \nnVis, \nO0.5=5"</span>, pch <span class="op">=</span> <span class="fl">15</span>, bty<span class="op">=</span><span class="st">"n"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span></code></pre></div>
<p><img src="BIRDS_files/figure-html/figure%203-1.png" width="672"></p>
<p>The ignorance scores are highlighting where we have little information and hence cannot be confident about the lack of reports implying an absence of the species.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Debora Arlt, Alejandro Ruete, Anton Hammarström.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
