<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Organize a dataframe to a usable format — organizeBirds • BIRDS</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Organize a dataframe to a usable format — organizeBirds" />
<meta property="og:description" content="Takes a dataframe with reported species observations and reformats it, using
visit identifiers, to an OrganizedBirds-class that can be used in further
analyses with the BIRDS-package." />
<meta property="og:image" content="/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-147720899-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-147720899-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BIRDS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/BIRDS.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documents
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/technical_details.html">BIRDS technical details</a>
    </li>
    <li>
      <a href="../articles/working_with_xts_timeseries.html">Working with xts time series</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/greensway/BIRDS">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Organize a dataframe to a usable format</h1>
    <small class="dont-index">Source: <a href='https://github.com/Greensway/BIRDS/blob/master/R/organizeBirds.R'><code>R/organizeBirds.R</code></a></small>
    <div class="hidden name"><code>organizeBirds.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Takes a dataframe with reported species observations and reformats it, using
visit identifiers, to an OrganizedBirds-class that can be used in further
analyses with the BIRDS-package.</p>
    </div>

    <pre class="usage"><span class='fu'>organizeBirds</span><span class='op'>(</span>
  <span class='va'>x</span>,
  sppCol <span class='op'>=</span> <span class='st'>"scientificName"</span>,
  idCols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"locality"</span>, <span class='st'>"recordedBy"</span><span class='op'>)</span>,
  timeCols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"year"</span>, <span class='st'>"month"</span>, <span class='st'>"day"</span><span class='op'>)</span>,
  timeInVisits <span class='op'>=</span> <span class='st'>"day"</span>,
  grid <span class='op'>=</span> <span class='cn'>NULL</span>,
  presenceCol <span class='op'>=</span> <span class='cn'>NULL</span>,
  xyCols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"decimalLongitude"</span>, <span class='st'>"decimalLatitude"</span><span class='op'>)</span>,
  dataCRS <span class='op'>=</span> <span class='fl'>4326</span>,
  taxonRankCol <span class='op'>=</span> <span class='cn'>NULL</span>,
  taxonRank <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"SPECIES"</span>, <span class='st'>"SUBSPECIES"</span>, <span class='st'>"VARIETY"</span><span class='op'>)</span>,
  simplifySppName <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>organiseBirds</span><span class='op'>(</span>
  <span class='va'>x</span>,
  sppCol <span class='op'>=</span> <span class='st'>"scientificName"</span>,
  idCols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"locality"</span>, <span class='st'>"recordedBy"</span><span class='op'>)</span>,
  timeCols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"year"</span>, <span class='st'>"month"</span>, <span class='st'>"day"</span><span class='op'>)</span>,
  timeInVisits <span class='op'>=</span> <span class='st'>"day"</span>,
  grid <span class='op'>=</span> <span class='cn'>NULL</span>,
  presenceCol <span class='op'>=</span> <span class='cn'>NULL</span>,
  xyCols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"decimalLongitude"</span>, <span class='st'>"decimalLatitude"</span><span class='op'>)</span>,
  dataCRS <span class='op'>=</span> <span class='fl'>4326</span>,
  taxonRankCol <span class='op'>=</span> <span class='cn'>NULL</span>,
  taxonRank <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"SPECIES"</span>, <span class='st'>"SUBSPECIES"</span>, <span class='st'>"VARIETY"</span><span class='op'>)</span>,
  simplifySppName <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A dataframe or a SpatialPointsDataFrame containing at least a
column for species name, one or several columns for date of observation, one or
several columns for identifying a visit and, if it is not spatial, coordinate
columns.</p></td>
    </tr>
    <tr>
      <th>sppCol</th>
      <td><p>A character string with the column name for the column for the
species names. Default is the Darwin Core standard name <code>"scientificName"</code>.</p></td>
    </tr>
    <tr>
      <th>idCols</th>
      <td><p>A character vector of the names for the columns that
are holding the information that identifies a visit. Default is the Darwin
Core standard column names <code><a href='https://rdrr.io/r/base/c.html'>c("locality", "day", "month", "year",
"recordedBy")</a></code>.</p></td>
    </tr>
    <tr>
      <th>timeCols</th>
      <td><p>A character vector with the names for the column(s) holding the
observation dates. Default is the Darwin Core standard column names
<code><a href='https://rdrr.io/r/base/c.html'>c("year", "month", "day")</a></code>.</p></td>
    </tr>
    <tr>
      <th>timeInVisits</th>
      <td><p>A flag indicating whether visits are defined by
the time definition or not, and to which resolution. Default is 'day'.
Alternatives are <code><a href='https://rdrr.io/r/base/c.html'>c("day", "month", "year", NULL)</a></code>. Time is anyhow
organised into three columns year, month, day.</p></td>
    </tr>
    <tr>
      <th>grid</th>
      <td><p>Either <code>NULL</code> to be ignored or an object of class
<code>SpatialPolygons</code> or <code>SpatialPolygonsDataFrame</code> as indetifier of
the visits spatial extent.</p></td>
    </tr>
    <tr>
      <th>presenceCol</th>
      <td><p>A character string with the column name for the column for the
precense status. Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>xyCols</th>
      <td><p>A character vector of the names for the columns that are holding
the coordinates for the observations. The order should be longitude(x),
latitude(y). Default is the Darwin Core standard column names
<code><a href='https://rdrr.io/r/base/c.html'>c("decimalLongitude", "decimalLatitude")</a></code>. Only applicable to non-
spatial dataframes.</p></td>
    </tr>
    <tr>
      <th>dataCRS</th>
      <td><p>A character string or numeric for the dataframe CRS (Coordinate Reference
System). Default is <code>"4326"</code>, which is WGS 84. This is only
applicable to non-spatial dataframes, since a spatial dataframes already
should have this information.</p></td>
    </tr>
    <tr>
      <th>taxonRankCol</th>
      <td><p>the name of the column containing the taxonomic rank for
the observation.
That is the minimum taxonomic identification level.</p></td>
    </tr>
    <tr>
      <th>taxonRank</th>
      <td><p>a string or vector of strings containing the taxonomic ranks to keep.
Only evaluated if taxonRankCol is not <code>NULL</code></p></td>
    </tr>
    <tr>
      <th>simplifySppName</th>
      <td><p>whether to remove everything else that is not the species
name (authors, years). Default set to FALSE, else leaves a canonical name given
by taxize::gbif_parse(), that is a scientific name with up to 3 elements.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a `SpatialPointsDataFrame` wrapped into an object of class OrganizedBirds,
with additional attributes.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>An OrganizedBirds-class is essentially a list containing one element, a
SpatialPointsDataFrame. This SpatialPointsDataFrame has its data formatted in
a way that the other functions in the BIRDS-package can use further on. It
also has the attribute <code>"visitCol"</code>, which indicates which column in the
dataframe holds the visit identifier. The visit identifier is created by
the function <code><a href='createVisits.html'>createVisits</a></code>, which creates a unique id for each
combination of the values in the defined columns.</p>
<p>The variable <code>timeCol</code> can be formatted differently. If the variable is a
named vector with the names "Year", "Month" and "Day" (letter capitalization
does not matter) it will use the variable named year as the year column and so
on. Otherwise it will use the first variable as year, the second as month and
the third as day, if there is a vector of length three or more. If the vector
is of only length one it will interpret the column as a date column formatted
as "yyyy-mm-dd".</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='createVisits.html'>createVisits</a></code> to create unique visits IDs,
 <code><a href='visits.html'>visits</a></code> to get or set the visit IDs to this class,
 <code><a href='simplifySpp.html'>simplifySpp</a></code> to simplify species names,
 <code><a href='obsData.html'>obsData</a></code> to retrieve the dataframe from this class.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>OB</span> <span class='op'>&lt;-</span> <span class='fu'>organizeBirds</span><span class='op'>(</span><span class='va'>bombusObs</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Debora Arlt, Alejandro Ruete, Anton Hammarström.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


