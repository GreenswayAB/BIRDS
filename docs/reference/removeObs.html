<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Remove observations belonging to the shortest ("worst") visits — removeObs • BIRDS</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Remove observations belonging to the shortest ("worst") visits — removeObs" />
<meta property="og:description" content="This function removes observations based on the visits effort or quality.
Visit effort or quality could be given most often by species list length
(that is, the number of species observed during the visit, SLL). However,
in some cases there could be only one or few species observed but in great
numbers each and spread across a big surveyed area. The effort then may not be
small. If the user may find it necessary to remove those observations belonging
to visits with an effort lower than a threshold, or a certain percentage of
the &quot;worst&quot; observations, then this function will help." />
<meta property="og:image" content="/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-147720899-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-147720899-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BIRDS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/BIRDS.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documents
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/technical_details.html">BIRDS technical details</a>
    </li>
    <li>
      <a href="../articles/working_with_xts_timeseries.html">Working with xts time series</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/greensway/BIRDS">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Remove observations belonging to the shortest ("worst") visits</h1>
    <small class="dont-index">Source: <a href='https://github.com/Greensway/BIRDS/blob/master/R/removeObservations.R'><code>R/removeObservations.R</code></a></small>
    <div class="hidden name"><code>removeObs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function removes observations based on the visits effort or quality.
Visit effort or quality could be given most often by species list length
(that is, the number of species observed during the visit, SLL). However,
in some cases there could be only one or few species observed but in great
numbers each and spread across a big surveyed area. The effort then may not be
small. If the user may find it necessary to remove those observations belonging
to visits with an effort lower than a threshold, or a certain percentage of
the "worst" observations, then this function will help.</p>
    </div>

    <pre class="usage"><span class='fu'>removeObs</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>ev</span>,
  criteria <span class='op'>=</span> <span class='st'>"SLL"</span>,
  percent <span class='op'>=</span> <span class='fl'>75</span>,
  minCrit <span class='op'>=</span> <span class='cn'>NULL</span>,
  stepChunk <span class='op'>=</span> <span class='fl'>0.05</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>an object of class &#8216;OrganizedBirds&#8217; (organised BIRDS Spatial
data.frame). See <code><a href='organizeBirds.html'>organizeBirds</a></code></p></td>
    </tr>
    <tr>
      <th>ev</th>
      <td><p>an object of class &#8216;data.frame&#8217; from exploreVisits.</p></td>
    </tr>
    <tr>
      <th>criteria</th>
      <td><p>the criteria to rank "good visits". Accepts c("SLL", "nObs",
"effortDiam", "medianDist")</p></td>
    </tr>
    <tr>
      <th>percent</th>
      <td><p>the percentage (i.e. 0 - 100) of observation to keep, or NULL.
(default = 75)</p></td>
    </tr>
    <tr>
      <th>minCrit</th>
      <td><p>the minimum accepted of a given criteria in the data set
(default = NULL).</p></td>
    </tr>
    <tr>
      <th>stepChunk</th>
      <td><p>if the search for observations includes too many in a given
quality stage, the search takes progressively smaller fractions of the dataset
in steps. This argument controls for how small fractions are discarded on
each step. If stepChunk = 0.05 (default) means that in the first step 95<!-- % of -->
the observations will be tested, then 95<!-- % x 95% = 90.25%, and so on until an -->
adequate number of observations are obtained. Increase this argument if you
see the function takes too long.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An updated OrganisedBirds dataset</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Please note: this function removes all observations belonging to visits
that fulfil the criteria. Also, the percentage of "lower quality" visits in
the sample is not necessarily the same as the the percentage of "lower quality"
observations. The removal of observations is done stepwise by quantile therefore
you may get a lower percentage than the aimed given than all remaining visits
are too large to be included completely. This may happen particularly with
smaller datasets.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>If both 'percent' and 'minCrit' are defined then 'percent' prevails.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='va'>OB</span> <span class='op'>&lt;-</span> <span class='fu'><a href='organizeBirds.html'>organizeBirds</a></span><span class='op'>(</span><span class='va'>bombusObs</span>, sppCol <span class='op'>=</span> <span class='st'>"scientificName"</span>, simplifySppName <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>EV</span> <span class='op'>&lt;-</span> <span class='fu'><a href='exploreVisits.html'>exploreVisits</a></span><span class='op'>(</span><span class='va'>OB</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Analysing 6721 visits...</span></div><div class='output co'>#&gt; <span class='message'>Finished analysing 6721 visits.</span></div><div class='input'><span class='va'>OBshorter</span> <span class='op'>&lt;-</span> <span class='fu'>removeObs</span><span class='op'>(</span><span class='va'>OB</span>, <span class='va'>EV</span>, percent <span class='op'>=</span> <span class='fl'>75</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Testing if it could be completed by chunks </span></div><div class='output co'>#&gt; <span class='message'>The result is 74.95% of the original observations set</span></div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Debora Arlt, Alejandro Ruete, Anton Hammarström.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


